{"version":3,"sources":["../../src/hierarchical-menu/hierarchical-menu.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,SAAA,EAAW,KAAA,EAAO,MAAA,EAAQ,UAAA,EAAW,MAAO,eAAA,CAAgB;AAErE,OAAO,EAAE,uBAAA,EAAwB,MAAO,gCAAA,CAAiC;AACzE,OAAO,EAAE,IAAA,EAAM,UAAA,EAAW,MAAO,WAAA,CAAY;AAE7C,OAAO,EAAE,UAAA,EAAW,MAAO,gBAAA,CAAiB;AAC5C,OAAO,EAAE,kBAAA,EAAmB,MAAO,gCAAA,CAAiC;AACpE,OAAO,EAAO,gBAAA,EAAiB,MAAO,UAAA,CAAW;AASjD;IAA2C,yCAAU;IA4BnD,+BAES,mBAAwB;QAFjC,YAIE,kBAAM,kBAAkB,CAAC,SAC1B;QAHQ,yBAAmB,GAAnB,mBAAmB,CAAK;QAxBzB,eAAS,GAAY,KAAK,CAAC;QAG3B,WAAK,GAAqB,EAAE,CAAC;QAG9B,WAAK,GAA0B;YACpC,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,IAAI;SACb,CAAC;;IAiBF,CAAC;IAfD,sBAAI,2CAAQ;aAAZ;YACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC;QACjE,CAAC;;;OAAA;IAED,sBAAI,wCAAK;aAAT;YACE,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC;gBACpC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gBACvC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QACvB,CAAC;;;OAAA;IASM,wCAAQ,GAAf;QACE,IAAI,CAAC,YAAY,CAAC,uBAAuB,EAAE;YACzC,KAAK,EAAE,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,MAAM,EAAE,IAAI,CAAC,MAAM;SACpB,CAAC,CAAC;QAEH,iBAAM,QAAQ,WAAE,CAAC;IACnB,CAAC;IACI,gCAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,QAAQ,EAAE,0BAA0B;oBACpC,QAAQ,EAAE,iZAeT;iBACF,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,oCAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,CAAC,EAAG,EAAE,EAAG,EAAC;KAClG,EAF6F,CAE7F,CAAC;IACK,oCAAc,GAA2C;QAChE,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QACpC,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAChC,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC/B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC9B,iBAAiB,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QACrC,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC3B,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC3B,CAAC;IACF,4BAAC;CAjFD,AAiFC,CAjF0C,UAAU,GAiFpD;SAjFY,qBAAqB","file":"hierarchical-menu.js","sourceRoot":"","sourcesContent":["import { Component, Input, Inject, forwardRef } from \"@angular/core\";\n\nimport { connectHierarchicalMenu } from \"instantsearch.js/es/connectors\";\nimport { noop, isFunction } from \"lodash-es\";\n\nimport { BaseWidget } from \"../base-widget\";\nimport { NgAisInstantSearch } from \"../instantsearch/instantsearch\";\nimport { bem, parseNumberInput } from \"../utils\";\n\nexport type HierarchicalMenuState = {\n  createURL: Function;\n  items: {}[];\n  refine: Function;\n};\n\n\nexport class NgAisHierarchicalMenu extends BaseWidget {\n  // render option\n   public transformItems?: Function;\n\n  // connector options\n   public attributes: string[];\n   public separator?: string = \" > \";\n   public rootPath?: string;\n   public showParentLevel?: boolean;\n   public limit?: number | string = 10;\n   public sortBy?: string[] | ((item: object) => number);\n\n  public state: HierarchicalMenuState = {\n    createURL: noop,\n    items: [],\n    refine: noop\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  get items() {\n    return isFunction(this.transformItems)\n      ? this.transformItems(this.state.items)\n      : this.state.items;\n  }\n\n  constructor(\n    \n    public instantSearchParent: any\n  ) {\n    super(\"HierarchicalMenu\");\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectHierarchicalMenu, {\n      limit: parseNumberInput(this.limit),\n      attributes: this.attributes,\n      rootPath: this.rootPath,\n      separator: this.separator,\n      showParentLevel: this.showParentLevel,\n      sortBy: this.sortBy\n    });\n\n    super.ngOnInit();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: \"ng-ais-hierarchical-menu\",\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list') + ' ' + cx('list', 'lvl0')\">\n        <ng-ais-hierarchical-menu-item\n          *ngFor=\"let item of items\"\n          [item]=\"item\"\n          [createURL]=\"state.createURL\"\n          [refine]=\"state.refine\"\n        >\n        </ng-ais-hierarchical-menu-item>\n      </ul>\n    </div>\n  `\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [forwardRef(() => NgAisInstantSearch), ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'transformItems': [{ type: Input },],\n'attributes': [{ type: Input },],\n'separator': [{ type: Input },],\n'rootPath': [{ type: Input },],\n'showParentLevel': [{ type: Input },],\n'limit': [{ type: Input },],\n'sortBy': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}