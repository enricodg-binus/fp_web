import { Component, Input } from "@angular/core";
import { bem } from "../utils";
var NgAisHierarchicalMenuItem = /** @class */ (function () {
    function NgAisHierarchicalMenuItem() {
        this.lvl = 1;
        this.cx = bem("HierarchicalMenu");
    }
    NgAisHierarchicalMenuItem.prototype.getItemClass = function (item) {
        var className = this.cx("item");
        if (item.isRefined) {
            className = className + " " + this.cx("item", "selected");
        }
        if (this.isArray(item.data) && item.data.length > 0) {
            className = className + " " + this.cx("item", "parent");
        }
        return className;
    };
    NgAisHierarchicalMenuItem.prototype.getListClass = function (item) {
        return this.cx("list") + " " + this.cx("list", "child") + " " + this.cx("list", "lvl" + this.lvl);
    };
    NgAisHierarchicalMenuItem.prototype.isArray = function (potentialArray) {
        return Array.isArray(potentialArray);
    };
    NgAisHierarchicalMenuItem.prototype.handleClick = function (event, item) {
        event.preventDefault();
        event.stopPropagation();
        this.refine(item.value);
    };
    NgAisHierarchicalMenuItem.decorators = [
        { type: Component, args: [{
                    selector: "ng-ais-hierarchical-menu-item",
                    template: "\n    <li\n      [class]=\"getItemClass(item)\"\n      (click)=\"handleClick($event, item)\"\n    >\n      <a\n        [class]=\"cx('link')\"\n        href=\"{{createURL(item.value)}}\"\n        (click)=\"handleClick($event, item)\"\n      >\n        <span [class]=\"cx('label')\">{{item.label}}</span>\n        <span [class]=\"cx('count')\">{{item.count}}</span>\n      </a>\n\n      <ul\n        [class]=\"getListClass(item)\"\n        *ngIf=\"item.isRefined && isArray(item.data) && item.data.length > 0\"\n      >\n        <ng-ais-hierarchical-menu-item\n          *ngFor=\"let child of item.data\"\n          [item]=\"child\"\n          [createURL]=\"createURL\"\n          [refine]=\"refine\"\n          [lvl]=\"lvl + 1\"\n        >\n        </ng-ais-hierarchical-menu-item>\n      </ul>\n    </li>\n  "
                },] },
    ];
    /** @nocollapse */
    NgAisHierarchicalMenuItem.ctorParameters = function () { return []; };
    NgAisHierarchicalMenuItem.propDecorators = {
        'lvl': [{ type: Input },],
        'refine': [{ type: Input },],
        'createURL': [{ type: Input },],
        'item': [{ type: Input },],
    };
    return NgAisHierarchicalMenuItem;
}());
export { NgAisHierarchicalMenuItem };
//# sourceMappingURL=hierarchical-menu-item.js.map