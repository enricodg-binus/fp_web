{"version":3,"sources":["../../src/hits/hits.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAO,EACL,MAAM,EACN,KAAK,EACL,SAAS,EACT,YAAY,EACZ,WAAW,EACX,UAAU,EACX,MAAM,eAAA,CAAgB;AAEvB,OAAO,EAAE,WAAA,EAAY,MAAO,gCAAA,CAAiC;AAC7D,OAAO,EAAE,UAAA,EAAW,MAAO,WAAA,CAAY;AAEvC,OAAO,EAAE,UAAA,EAAW,MAAO,gBAAA,CAAiB;AAC5C,OAAO,EAAE,kBAAA,EAAmB,MAAO,gCAAA,CAAiC;AAGpE;IAA+B,6BAAU;IASvC,mBAES,mBAAwB;QAFjC,YAIE,kBAAM,MAAM,CAAC,SAEd;QAJQ,yBAAmB,GAAnB,mBAAmB,CAAK;QALjC,6CAA6C;QACtC,WAAK,GAAgC,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QAUtE,iBAAW,GAAG,UACZ,KAAkC,EAClC,gBAAyB;YAEzB,EAAE,CAAC,CAAC,gBAAgB,CAAC;gBAAC,MAAM,CAAC;YAE7B,KAAI,CAAC,KAAK,gBACL,KAAK,IACR,OAAO,EAAE,KAAK,CAAC,OAAO,EACtB,IAAI,EAAE,UAAU,CAAC,KAAI,CAAC,cAAc,CAAC;oBACnC,CAAC,CAAC,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC;oBACjC,CAAC,CAAC,KAAK,CAAC,IAAI,GACf,CAAC;QACJ,CAAC,CAAC;QAhBA,KAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;;IACvD,CAAC;IAgBI,oBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,QAAQ,EAAE,aAAa;oBACvB,QAAQ,EAAE,mgBAiBT;iBACF,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,wBAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,CAAC,EAAG,EAAE,EAAG,EAAC;KAClG,EAF6F,CAE7F,CAAC;IACK,wBAAc,GAA2C;QAChE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,WAAW,EAAG,EAAE,EAAE;QAC5D,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KACnC,CAAC;IACF,gBAAC;CA9DD,AA8DC,CA9D8B,UAAU,GA8DxC;SA9DY,SAAS","file":"hits.js","sourceRoot":"","sourcesContent":["import {\n  Inject,\n  Input,\n  Component,\n  ContentChild,\n  TemplateRef,\n  forwardRef\n} from \"@angular/core\";\n\nimport { connectHits } from \"instantsearch.js/es/connectors\";\nimport { isFunction } from \"lodash-es\";\n\nimport { BaseWidget } from \"../base-widget\";\nimport { NgAisInstantSearch } from \"../instantsearch/instantsearch\";\n\n\nexport class NgAisHits extends BaseWidget {\n   public template?: TemplateRef<any>;\n\n  // render options\n   transformItems?: Function;\n\n  // inner widget state returned from connector\n  public state: { hits: {}[]; results: {} } = { hits: [], results: {} };\n\n  constructor(\n    \n    public instantSearchParent: any\n  ) {\n    super(\"Hits\");\n    this.createWidget(connectHits, { escapeHits: true });\n  }\n\n  updateState = (\n    state: { hits: {}[]; results: {} },\n    isFirstRendering: boolean\n  ) => {\n    if (isFirstRendering) return;\n\n    this.state = {\n      ...state,\n      results: state.results,\n      hits: isFunction(this.transformItems)\n        ? this.transformItems(state.hits)\n        : state.hits\n    };\n  };\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: \"ng-ais-hits\",\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: state\"></ng-container>\n\n      <!-- default rendering if no template specified -->\n      <div *ngIf=\"!template\">\n        <ul [class]=\"cx('list')\">\n          <li\n            [class]=\"cx('item')\"\n            *ngFor=\"let hit of state.hits\"\n          >\n            <ng-ais-highlight attribute=\"name\" [hit]=\"hit\">\n            </ng-ais-highlight>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [forwardRef(() => NgAisInstantSearch), ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'template': [{ type: ContentChild, args: [TemplateRef, ] },],\n'transformItems': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}