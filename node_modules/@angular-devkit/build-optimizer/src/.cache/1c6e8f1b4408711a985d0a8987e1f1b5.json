{"remainingRequest":"/Users/enrico/code/angular/fp_web/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/enrico/code/angular/fp_web/node_modules/angular-instantsearch/current-refinements/current-refinements.js","dependencies":[{"path":"/Users/enrico/code/angular/fp_web/node_modules/angular-instantsearch/current-refinements/current-refinements.js","mtime":1519831270000},{"path":"/Users/enrico/code/angular/fp_web/node_modules/cache-loader/dist/cjs.js","mtime":1522355410796},{"path":"/Users/enrico/code/angular/fp_web/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1522355408304}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b)\n            if (b.hasOwnProperty(p))\n                d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n            t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++)\n            if (e.indexOf(p[i]) < 0)\n                t[p[i]] = s[p[i]];\n    return t;\n};\nimport { Component, Input, Inject, forwardRef } from \"@angular/core\";\nimport { connectCurrentRefinedValues } from \"instantsearch.js/es/connectors\";\nimport { capitalize, noop, isFunction } from \"lodash-es\";\nimport { BaseWidget } from \"../base-widget\";\nimport { NgAisInstantSearch } from \"../instantsearch/instantsearch\";\nvar NgAisCurrentRefinements = /*@__PURE__*/ (function (_super) {\n    __extends(NgAisCurrentRefinements, _super);\n    function NgAisCurrentRefinements(instantSearchParent) {\n        var _this = _super.call(this, \"CurrentRefinements\") || this;\n        _this.instantSearchParent = instantSearchParent;\n        // render options\n        _this.clearRefinements = \"after\";\n        _this.clearRefinementsLabel = \"Clear refinements\";\n        // connector options\n        _this.onlyListedAttributes = false;\n        _this.clearsQuery = false;\n        _this.attributes = [];\n        _this.state = {\n            attributes: {},\n            clearAllClick: noop,\n            clearAllURL: noop,\n            createURL: noop,\n            refine: noop,\n            refinements: []\n        };\n        return _this;\n    }\n    Object.defineProperty(NgAisCurrentRefinements.prototype, \"isHidden\", {\n        get: function () {\n            return this.state.refinements.length === 0 && this.autoHideContainer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgAisCurrentRefinements.prototype, \"refinements\", {\n        get: function () {\n            var items = isFunction(this.transformItems)\n                ? this.transformItems(this.state.refinements)\n                : this.state.refinements;\n            // group refinements by category? (attributeName && type)\n            return items.reduce(function (res, _a) {\n                var type = _a.type, attributeName = _a.attributeName, refinement = __rest(_a, [\"type\", \"attributeName\"]);\n                var match = res.find(function (r) { return r.attributeName === attributeName && r.type === type; });\n                if (match) {\n                    match.items.push(__assign({ type: type, attributeName: attributeName }, refinement));\n                }\n                else {\n                    res.push({\n                        type: type,\n                        attributeName: attributeName,\n                        label: capitalize(attributeName),\n                        items: [__assign({ type: type, attributeName: attributeName }, refinement)]\n                    });\n                }\n                return res;\n            }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgAisCurrentRefinements.prototype, \"json\", {\n        get: function () {\n            return JSON.stringify(this.refinements, null, 4);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NgAisCurrentRefinements.prototype.ngOnInit = function () {\n        this.createWidget(connectCurrentRefinedValues, {\n            attributes: this.attributes,\n            clearsQuery: this.clearsQuery,\n            onlyListedAttributes: this.onlyListedAttributes\n        });\n        _super.prototype.ngOnInit.call(this);\n    };\n    NgAisCurrentRefinements.prototype.handleClick = function (event, refinement) {\n        event.preventDefault();\n        this.state.refine(refinement);\n    };\n    NgAisCurrentRefinements.prototype.handleClearAllClick = function (event) {\n        event.preventDefault();\n        this.state.clearAllClick();\n    };\n    return NgAisCurrentRefinements;\n}(BaseWidget));\nexport { NgAisCurrentRefinements };\n//# sourceMappingURL=current-refinements.js.map \n",null]}